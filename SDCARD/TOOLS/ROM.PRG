100 def_test()110 dim code[100]120 _asm(0):_asm(0):_asm(2)130 enddef200 def_asm(o)210 .opt o:.org code215 stx 66:sta 65216 lda #0xaf:sta 0x0400220 lda 0x0480230 pha240 and #(0xff ^ 0x20)250 sta 0x0480255 ldy #0260 lda (65),y:tax270 pla280 sta 0x0480285 lda #0xbf:sta 0x0400290 lda #0300 rts310 enddef1000 def_shadow(addr)1010 _test()1020 repeat1030 print hex(addr)," "1040 for i=0,7,11042  adri=addr+i1045  c=call(code,adri&255,adri>>8,0)1050  print right(hex(c),2)," "1060 next1070 for i=0,7,11080  adri=addr+i1090  c=call(code,adri&255,adri>>8,0)1100  if (c<32)|(c==127):c='.':endif1110  print chr(c)1120 next1130 println:k=get(1):addr=addr+81140 until k<>131150 enddef